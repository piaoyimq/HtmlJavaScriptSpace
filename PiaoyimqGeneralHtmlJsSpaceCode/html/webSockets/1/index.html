<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>跨域通信示例</title>
<script type="text/javascript">
// 监听message事件
window.addEventListener("message", function(ev) {
  	//忽略指定URL地址之外的页面传过来的消息
  	if(ev.origin != "http://192.168.1.189") {
    	return;
  	}
  	//显示消息
  	alert("从"+ev.origin + "那里传过来的消息:\n\"" + ev.data + "\"");
}, false);
function hello(){
	var iframe = window.frames[0];
  	//传递消息
  	iframe.postMessage("您好！", "http://192.168.1.189");
}
</script>
</head>
<body>
<h1>跨域通信示例</h1>
<iframe width="400" src="http://192.168.1.189" onload="hello()">
</iframe>
</body>
</html>
