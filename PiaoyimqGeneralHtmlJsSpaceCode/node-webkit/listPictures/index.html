<!DOCTYPE html>
<html>

	<head lang="en">
		<meta charset="UTF-8">
		<title>看图</title>
		<script type="text/javascript" src="js/drag_map.js"></script>
		<script>
			function getImgList() {
				var fs = require("fs");
				var path = require("path");
				var specificPath= "C:\\Users\\ezhweib\\Pictures\\screenshot";//path.resolve()
				var li = fs.readdirSync(specificPath);
				console.log(li);
				var imgArr = [];
				for(var i = 0; i < li.length; i++) {
					stats = fs.statSync(path.join(specificPath, li[i]));
					if(stats.isFile() && (li[i].indexOf(".jpg") >= 0)) {
						imgArr.push("file:///"+(path.join(specificPath, li[i])));
					}
				}

				console.log(imgArr);
				return imgArr;
			}

			var fileArr = getImgList();

			var index = 0;
			
		
			
			
			function next() {
				index++;
				if(index == fileArr.length) {
					index = 0;
				}
//				document.getElementById("pic").style.maxWidth="80%";
//				document.getElementById("pic").style.maxHeight="80%";
				document.getElementById("pic").style.zoom=1;
				document.getElementById("pic").src = fileArr[index];
				zoomn = document.getElementById("pic").style.zoom;
				z=parseFloat(zoomn);
				console.log("____next zoom=%d", z)

			}
			

			
			function pre() {
				index--;
				if(index < 0) {
					index = fileArr.length - 1;
				}
//				document.getElementById("pic").style.maxWidth="80%";
//				document.getElementById("pic").style.maxHeight="80%";
				document.getElementById("pic").style.zoom=1;
				document.getElementById("pic").src = fileArr[index];
				zoomp = document.getElementById("pic").style.zoom;
				z=parseFloat(zoomp);
				console.log("____pre zoom=%d", z)
				
			}


		</script>
	</head>
	<style>
		* {
			/*margin: 0;
			padding: 0;*/
			text-align:center;
		}
		
		#block1 {
			margin: 20px ;
		   	   padding-top:0 auto;
		 	/*position:relative;*/
	/*　　　　	top:50%;*/
			
			 /*top: 50% auto;*/
			  /*margin-top: 5% ;*/
		   /*text-align:center;*/
		   /*display: block;
			margin: 10px ;
			 	/*margin: 0 auto;
		   	display:block; */
			/*width: 600px ;
			height: 400px;*/
		}
		
		#pic {
		   /*margin: 0 auto;
		   	width:auto;			
			height:auto;
			max-width:80%;
			max-height:80%;
			overflow:hidden;
			
			position: absolute;
			top:15%
			bottom: 15%;
			left: 10%;
			right: 10%;*/
		}
		
		#buttonBox {
			/*align-content: center;*/
			position: absolute;
			right: 43%;
			bottom: 0;
			/*padding-left: 100px;
			
			top:100px*/
			width: 150px;
			margin: 10px auto;
		}
	</style>

	<body >
		<input type="file" id="addProjectBrowse" nwdirectory="nwdirectory" nwworkingdir="..." class="hide" />
		<input id="inputFolder" type="text" class="form-control" data-argName="inputFolder" required="required" />
		<div id="block1" class="dragAble"  onMouseOver="dragObj=block1; drag=1;" style="z-index: 10;
        left: 0px; width: 0px; position: absolute; top: 150px; height: 0px" onMouseOut="" drag="0">
			<!--输入文件夹路径：<input type="text" id="file" value="C:\\Users\\Administrator\\Desktop\\pic">
			<input type="submit" value="Submit" onclick="setPath()">-->
			
			<label for="inputFolder" data-lang="INPUT_FOLDER"></label>
          	
         	 <span id="inputFolderIcon" class="glyphicon glyphicon-folder-open pull-right" data-langtitle="BROWSE"></span>
         	 <!--<input type="file" id="inputFolderBrowse" nwdirectory="nwdirectory" nwworkingdir="..." class="hide" />-->
			<img onmousewheel="return onWheelZoom(this);" style="zoom: 1" src=""  alt="No pictures"  id="pic" >
			<script>
				document.getElementById("pic").src = fileArr[0]; //use a non asyonous function
				console.log("%d is aa file", fileArr.length);
			</script>
		</div>
			<div id="buttonBox">
				<input type="button" value="上一张" onclick=pre()>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<input type="button" value="下一张" onclick=next()>
				<br>
				
				<input type="button" value="刷新" onclick=document.location.reload()>
			</div>
	</body>

</html>